<html>
  <head>

    <!-- Libraries -->
    <script type="text/javascript" src="lib/jquery-1.11.0.min.js"></script>

    <script type="text/javascript" src="lib/glfx.js"></script>

    <!-- load CPU instruction set -->
    <script type="text/javascript" src="src/cpus/8086.js"></script>

    <script type="text/javascript" src="src/gui.js"></script>

    <!-- load emu core -->
    <script type="text/javascript" src="src/bios.js"></script>
    <script type="text/javascript" src="src/cpu.js"></script>
    <script type="text/javascript" src="src/gfx.js"></script>
    <script type="text/javascript" src="src/input.js"></script>
    <script type="text/javascript" src="src/storage.js"></script>
    <script type="text/javascript" src="src/emu.js"></script>
  </head>
  <body>
    <div class="row">
        <div id="display">
            <!-- set to Hercules resolution x2 -->
            <canvas id='gfx-port' width="640" height="400"></canvas>
        </div>

    </div>

    <div class="">
        <div id="debug">
            <div id="debug-decode">
                <fieldset>
                    <legend>[decode]</legend>
                        <table id="debug-decode-instruction">
                            <tr>
                                <td class='debug-title'>instruction</td>
                                <td id="debug-decode-instruction-val"></td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <th>opcode byte</th>
                                <th>opcode</th>
                                <th>d</th>
                                <th>w</th>
                            </tr>
                            <tr>
                                <td id="debug-decode-opbyte-val"></td>
                                <td id="debug-decode-opcode-val"></td>
                                <td id="debug-decode-d-val"></td>
                                <td id="debug-decode-w-val"></td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <th>address byte</th>
                                <th>mod</th>
                                <th>reg</th>
                                <th>r/m</th>
                            </tr>
                            <tr>
                                <td id="debug-decode-addrbyte-val"></td>
                                <td id="debug-decode-mod-val"></td>
                                <td id="debug-decode-reg-val"></td>
                                <td id="debug-decode-rm-val"></td>
                            </tr>
                        </table>
                </fieldset>
            </div>
            <div id="debug-registers">
                <fieldset>
                    <legend>[registers]</legend>
                    <table id="debug-registers-table">
                        <tr>
                            <td class='debug-title'>AX</td>
                            <td id="debug-registers-AX-val"></td>

                            <td class='debug-title'>BX</td>
                            <td id="debug-registers-BX-val"></td>

                            <td class='debug-title'>CX</td>
                            <td id="debug-registers-CX-val"></td>

                            <td class='debug-title'>DX</td>
                            <td id="debug-registers-DX-val"></td>
                        </tr>
                        <tr>
                            <td class='debug-title'>SI</td>
                            <td id="debug-registers-SI-val"></td>

                            <td class='debug-title'>DI</td>
                            <td id="debug-registers-DI-val"></td>

                            <td class='debug-title'>BP</td>
                            <td id="debug-registers-BP-val"></td>

                            <td class='debug-title'>SP</td>
                            <td id="debug-registers-SP-val"></td>
                        </tr>
                        <tr>
                            <td class='debug-title'>CS</td>
                            <td id="debug-registers-CS-val"></td>

                            <td class='debug-title'>DS</td>
                            <td id="debug-registers-DS-val"></td>

                            <td class='debug-title'>ES</td>
                            <td id="debug-registers-ES-val"></td>

                            <td class='debug-title'>SS</td>
                            <td id="debug-registers-SS-val"></td>
                        </tr>
                        <tr>
                            <td class='debug-title'>IP</td>
                            <td id="debug-registers-IP-val"></td>

                            <td class='debug-title'></td>
                            <td></td>

                            <td class='debug-title'></td>
                            <td></td>

                            <td class='debug-title'></td>
                            <td></td>
                        </tr>
                    </table>
                    <table>
                        <tr>
                            <td class='debug-title'>FLAGS</td>
                            <td class='debug-title'>----ODITSZ-A-P-C</td>
                        </tr>
                        <tr>
                            <td id="debug-registers-FLAGHEX-val"></td>
                            <td id="debug-registers-FLAGBIN-val"></td>
                        </tr>
                    </table>
                </fieldset>
            </div>
            <div id="debug-memory">
                <fieldset>
                    <legend>[memory]</legend>
                    <div>
                        <span>center</span>
                        <span><input id='debug-memory-center' type="text"></span>
                        <span id="memorycenterbutton" class="fa fa-play button" onclick='gui.handleCenterMemoryButton();'></span>
                    </div>
                    <div class='debug-memory-container'>
                        <table id="debug-memory-table">
                            <thead>
                                <tr>
                                    <th>addr</th>
                                    <th colspan=4>value</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </fieldset>
            </div>
            <div style="display: inline-block;"></div>
        </div>
    </div>



    <div id="offscreen">
        <canvas id='font-table' width="288" height="112"></canvas>
    </div>

    <!--<script>-->
        <!--(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){-->
            <!--(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),-->
                <!--m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)-->
        <!--})(window,document,'script','//www.google-analytics.com/analytics.js','ga');-->

        <!--ga('create', 'UA-26926019-1', 'lapinlabs.com');-->
        <!--ga('send', 'pageview');-->

    <!--</script>-->

  </body>
</html>
